<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>v1.0.2 on Longhorn Manual Test Cases</title>
    <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.0.2/</link>
    <description>Recent content in v1.0.2 on Longhorn Manual Test Cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.0.2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Upgrade Lease Lock</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.0.2/upgrade-lease-lock/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.0.2/upgrade-lease-lock/</guid>
      <description>&lt;p&gt;The time it takes between the Longhorn Manager starting up and the upgrade completing for that Longhorn Manager can be used to determine if the upgrade lock was released correctly:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Create a fresh Longhorn installation or delete all of the Longhorn Manager Pods in the existing installation.&lt;/li&gt;&#xA;&lt;li&gt;Check the logs for the Longhorn Manager Pods and note the timestamps for the first line in the log and the timestamp for when the upgrade has completed.&#xA;For example, in this log, the relevant timestamps are &lt;code&gt;2020-08-03T22:55:39Z&lt;/code&gt; and &lt;code&gt;2020-08-03T22:56:24Z&lt;/code&gt;:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;time=&amp;#34;2020-08-03T22:55:39Z&amp;#34; level=info msg=&amp;#34;Start overwriting built-in settings with customized values&amp;#34;&#xA;E0803 22:55:40.141071       1 leaderelection.go:310] error initially creating leader election record: leases.coordination.k8s.io &amp;#34;longhorn-manager-upgrade-lock&amp;#34; already exists&#xA;time=&amp;#34;2020-08-03T22:55:43Z&amp;#34; level=info msg=&amp;#34;New upgrade leader elected: 74.207.240.60&amp;#34;&#xA;time=&amp;#34;2020-08-03T22:56:01Z&amp;#34; level=info msg=&amp;#34;New upgrade leader elected: 96.126.101.152&amp;#34;&#xA;time=&amp;#34;2020-08-03T22:56:24Z&amp;#34; level=info msg=&amp;#34;Start upgrading&amp;#34;&#xA;time=&amp;#34;2020-08-03T22:56:24Z&amp;#34; level=info msg=&amp;#34;No API version upgrade is needed&amp;#34;&#xA;time=&amp;#34;2020-08-03T22:56:24Z&amp;#34; level=info msg=&amp;#34;Finish upgrading&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;Calculate the amount of time between the two timestamps.&#xA;If the lock was released successfully, then it should take no longer than about 15 seconds for the upgrade process to complete on each Pod:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;longhorn-manager-k95bm&lt;/code&gt;: 2020-08-03T23:04:14Z - 2020-08-03T23:04:20Z &lt;strong&gt;(6 seconds)&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;longhorn-manager-rgpvt&lt;/code&gt;: 2020-08-03T23:04:14Z - 2020-08-03T23:04:15Z &lt;strong&gt;(1 second)&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;longhorn-manager-z2jd9&lt;/code&gt;: 2020-08-03T23:04:21Z - 2020-08-03T23:04:21Z &lt;strong&gt;(0 seconds)&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Here is an example of a failing case with the Longhorn Manager attempting to upgrade and the upgrade lock not being released successfully.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
