<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>v1.1.2 on Longhorn Manual Test Cases</title>
    <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/</link>
    <description>Recent content in v1.1.2 on Longhorn Manual Test Cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Test CronJob For Volumes That Are Detached For A Long Time</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/delete-cronjob-for-detached-volumes/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/delete-cronjob-for-detached-volumes/</guid>
      <description>&lt;h2 id=&#34;related-issue&#34;&gt;Related issue&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/longhorn/longhorn/issues/2513&#34;&gt;https://github.com/longhorn/longhorn/issues/2513&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;steps&#34;&gt;Steps&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Make sure the setting &lt;code&gt;Allow Recurring Job While Volume Is Detached&lt;/code&gt; is &lt;code&gt;disabled&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Create a volume. Attach to a node. Create a recurring backup job that run every minute.&lt;/li&gt;&#xA;&lt;li&gt;Wait for the cronjob to be scheduled a few times.&lt;/li&gt;&#xA;&lt;li&gt;Detach the volume.&lt;/li&gt;&#xA;&lt;li&gt;Verify that the CronJob get deleted.&lt;/li&gt;&#xA;&lt;li&gt;Wait 2 hours (&amp;gt; 100 mins).&lt;/li&gt;&#xA;&lt;li&gt;Attach the volume to a node.&lt;/li&gt;&#xA;&lt;li&gt;Verify that the CronJob get created.&lt;/li&gt;&#xA;&lt;li&gt;Verify that Kubernetes schedules a run for the CronJob at the beginning of the next minute.&lt;/li&gt;&#xA;&lt;li&gt;Make sure the setting &lt;code&gt;Allow Recurring Job While Volume Is Detached&lt;/code&gt; is &lt;code&gt;enabled&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Detach the volume.&lt;/li&gt;&#xA;&lt;li&gt;Verify that the CronJob is not deleted.&lt;/li&gt;&#xA;&lt;li&gt;Wait for Kubernetes to schedule a run for the CronJob at the beginning of the next minute.&#xA;Verify that the volume is attached, CronJob runs, then volume is detached.&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Test Frontend Web-socket Data Transfer When Resource Not Updated</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/full-ws-data-tranfer-when-no-updates/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/full-ws-data-tranfer-when-no-updates/</guid>
      <description>&lt;h2 id=&#34;related-issue&#34;&gt;Related issue&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/longhorn/longhorn-manager/pull/918&#34;&gt;https://github.com/longhorn/longhorn-manager/pull/918&lt;/a&gt;&#xA;&lt;a href=&#34;https://github.com/longhorn/longhorn/issues/2646&#34;&gt;https://github.com/longhorn/longhorn/issues/2646&lt;/a&gt;&#xA;&lt;a href=&#34;https://github.com/longhorn/longhorn/issues/2591&#34;&gt;https://github.com/longhorn/longhorn/issues/2591&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;test-data-send-over-web-socket-when-no-resource-updated&#34;&gt;Test Data Send Over Web-socket When No Resource Updated&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Given&lt;/strong&gt; 1 PVC/Pod created.&#xA;&lt;em&gt;And&lt;/em&gt; the Pod is not writing to the mounted volume.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;When&lt;/strong&gt; monitor network traffic with browser inspect tool.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Then&lt;/strong&gt; wait for 3 mins&#xA;&lt;em&gt;And&lt;/em&gt; should not see data send over web-socket when there are no updates to the resources.&lt;/p&gt;&#xA;&lt;h2 id=&#34;test-data-send-over-web-socket-resource-updated&#34;&gt;Test Data Send Over Web-socket Resource Updated&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Given&lt;/strong&gt; monitor network traffic with browser inspect tool.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Test Instance Manager Streaming Connection Recovery</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/instance-manager-streaming-connection-recovery/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.1.2/instance-manager-streaming-connection-recovery/</guid>
      <description>&lt;h2 id=&#34;related-issue&#34;&gt;Related issue&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/longhorn/longhorn/issues/2561&#34;&gt;https://github.com/longhorn/longhorn/issues/2561&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;test-step&#34;&gt;Test Step&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;Given&lt;/strong&gt; A cluster with Longhorn&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;And&lt;/em&gt; create a volume and attach it to a pod.&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;And&lt;/em&gt; &lt;code&gt;exec&lt;/code&gt; into a longhorn manager pod and kill the connection with an engine or replica instance manager pod. The connections are instance manager pods&amp;rsquo; IP with port &lt;code&gt;8500&lt;/code&gt;.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ kl exec -it longhorn-manager-5z8zn -- bash&#xA;&#xA;root@longhorn-manager-5z8zn:/# ss&#xA;Netid                    State                     Recv-Q                     Send-Q                                           Local Address:Port                                            Peer Address:Port&#xA;tcp                      ESTAB                     0                          0                                                  10.42.1.124:59414                                            10.42.1.123:8500&#xA;tcp                      ESTAB                     0                          0                                                  10.42.1.124:39096                                           52.36.54.134:https&#xA;tcp                      ESTAB                     0                          0                                                  10.42.1.124:45302                                              10.43.0.1:https&#xA;tcp                      ESTAB                     0                          0                                                  10.42.1.124:34124                                            10.42.1.122:8500&#xA;root@longhorn-manager-5z8zn:/# ss -K dst 10.42.1.122:8500&#xA;Netid                    State                     Recv-Q                     Send-Q                                            Local Address:Port                                            Peer Address:Port&#xA;tcp                      ESTAB                     0                          0                                                   10.42.1.124:34124                                            10.42.1.122:8500&#xA;root@longhorn-manager-5z8zn:/# exit&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;Then&lt;/strong&gt; Check the longhorn manager pod log. There must be following logs:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
