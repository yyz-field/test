<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>v1.3.1 on Longhorn Manual Test Cases</title>
    <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.3.1/</link>
    <description>Recent content in v1.3.1 on Longhorn Manual Test Cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.3.1/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Test transient error in engine status during eviction</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.3.1/test-backing-image-download-to-local/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/release-specific/v1.3.1/test-backing-image-download-to-local/</guid>
      <description>&lt;h3 id=&#34;test-step&#34;&gt;Test step&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Create and attach a multi-replica volume.&lt;/li&gt;&#xA;&lt;li&gt;Prepare one extra disk for a node that contains at least one volume replica.&lt;/li&gt;&#xA;&lt;li&gt;Keep monitoring the engine YAML. e.g., &lt;code&gt;watch -n  &amp;quot;kubectl -n longhorn-system get lhe &amp;lt;engine name&amp;gt;&amp;quot;&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Evicting the old disk for node. =&amp;gt; Verify that there is no transient error in engine Status during eviction. A counter example is like:&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apiVersion: longhorn.io/v1beta2&#xA;kind: Engine&#xA;metadata:&#xA;  creationTimestamp: &amp;#34;2022-07-27T04:46:03Z&amp;#34;&#xA;  finalizers:&#xA;  - longhorn.io&#xA;  generation: 4&#xA;  labels:&#xA;    longhornnode: shuo-k8s-worker-1&#xA;    longhornvolume: vol1&#xA;  name: vol1-e-998b62c7&#xA;  namespace: longhorn-system&#xA;  ownerReferences:&#xA;  - apiVersion: longhorn.io/v1beta2&#xA;    kind: Volume&#xA;    name: vol1&#xA;    uid: fe656464-78af-4abf-8068-0742ba247fef&#xA;  resourceVersion: &amp;#34;34220387&amp;#34;&#xA;  uid: f6a339e2-d606-479f-910f-c787f9efa906&#xA;spec:&#xA;  active: true&#xA;  backupVolume: &amp;#34;&amp;#34;&#xA;  desireState: running&#xA;  disableFrontend: false&#xA;  engineImage: longhornio/longhorn-engine:master-head&#xA;  frontend: blockdev&#xA;  logRequested: false&#xA;  nodeID: shuo-k8s-worker-1&#xA;  replicaAddressMap:&#xA;    vol1-r-769e039f: 10.42.4.30:10000&#xA;    vol1-r-56144d78: 10.42.2.81:10000&#xA;    vol1-r-8724804e: 10.42.1.59:10000&#xA;  requestedBackupRestore: &amp;#34;&amp;#34;&#xA;  requestedDataSource: &amp;#34;&amp;#34;&#xA;  revisionCounterDisabled: false&#xA;  salvageRequested: false&#xA;  upgradedReplicaAddressMap: {}&#xA;  volumeName: vol1&#xA;  volumeSize: &amp;#34;1073741824&amp;#34;&#xA;status:&#xA;  backupStatus: null&#xA;  cloneStatus:&#xA;    tcp://10.42.1.59:10000:&#xA;      error: &amp;#34;&amp;#34;&#xA;      fromReplicaAddress: &amp;#34;&amp;#34;&#xA;      isCloning: false&#xA;      progress: 0&#xA;      snapshotName: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.2.81:10000:&#xA;      error: &amp;#34;&amp;#34;&#xA;      fromReplicaAddress: &amp;#34;&amp;#34;&#xA;      isCloning: false&#xA;      progress: 0&#xA;      snapshotName: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.4.30:10000:&#xA;      error: &amp;#34;&amp;#34;&#xA;      fromReplicaAddress: &amp;#34;&amp;#34;&#xA;      isCloning: false&#xA;      progress: 0&#xA;      snapshotName: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.4.30:10015:&#xA;      error: &amp;#39;failed to get snapshot clone status of tcp://10.42.4.30:10015: failed&#xA;        to get snapshot clone status: rpc error: code = Unavailable desc = all SubConns&#xA;        are in TransientFailure, latest connection error: connection error: desc =&#xA;        &amp;#34;transport: Error while dialing dial tcp 10.42.4.30:10017: connect: connection&#xA;        refused&amp;#34;&amp;#39;&#xA;      fromReplicaAddress: &amp;#34;&amp;#34;&#xA;      isCloning: false&#xA;      progress: 0&#xA;      snapshotName: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;  currentImage: longhornio/longhorn-engine:master-head&#xA;  currentReplicaAddressMap:&#xA;    vol1-r-769e039f: 10.42.4.30:10000&#xA;    vol1-r-56144d78: 10.42.2.81:10000&#xA;    vol1-r-8724804e: 10.42.1.59:10000&#xA;  currentSize: &amp;#34;1073741824&amp;#34;&#xA;  currentState: running&#xA;  endpoint: /dev/longhorn/vol1&#xA;  instanceManagerName: instance-manager-e-3bdc3f00&#xA;  ip: 10.42.4.31&#xA;  isExpanding: false&#xA;  lastExpansionError: &amp;#34;&amp;#34;&#xA;  lastExpansionFailedAt: &amp;#34;&amp;#34;&#xA;  lastRestoredBackup: &amp;#34;&amp;#34;&#xA;  logFetched: false&#xA;  ownerID: shuo-k8s-worker-1&#xA;  port: 10001&#xA;  purgeStatus:&#xA;    tcp://10.42.1.59:10000:&#xA;      error: &amp;#34;&amp;#34;&#xA;      isPurging: false&#xA;      progress: 0&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.2.81:10000:&#xA;      error: &amp;#34;&amp;#34;&#xA;      isPurging: false&#xA;      progress: 0&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.4.30:10000:&#xA;      error: &amp;#34;&amp;#34;&#xA;      isPurging: false&#xA;      progress: 0&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.4.30:10015:&#xA;      error: &amp;#34;&amp;#34;&#xA;      isPurging: false&#xA;      progress: 0&#xA;      state: &amp;#34;&amp;#34;&#xA;  rebuildStatus: {}&#xA;  replicaModeMap:&#xA;    vol1-r-769e039f: RW&#xA;    vol1-r-47418d68: RW&#xA;    vol1-r-56144d78: RW&#xA;    vol1-r-8724804e: RW&#xA;  restoreStatus:&#xA;    tcp://10.42.1.59:10000:&#xA;      backupURL: &amp;#34;&amp;#34;&#xA;      currentRestoringBackup: &amp;#34;&amp;#34;&#xA;      isRestoring: false&#xA;      lastRestored: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.2.81:10000:&#xA;      backupURL: &amp;#34;&amp;#34;&#xA;      currentRestoringBackup: &amp;#34;&amp;#34;&#xA;      isRestoring: false&#xA;      lastRestored: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.4.30:10000:&#xA;      backupURL: &amp;#34;&amp;#34;&#xA;      currentRestoringBackup: &amp;#34;&amp;#34;&#xA;      isRestoring: false&#xA;      lastRestored: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;    tcp://10.42.4.30:10015:&#xA;      backupURL: &amp;#34;&amp;#34;&#xA;      currentRestoringBackup: &amp;#34;&amp;#34;&#xA;      error: &amp;#39;Failed to get restoring status on tcp://10.42.4.30:10015: failed to&#xA;        get restore status: rpc error: code = Unavailable desc = all SubConns are&#xA;        in TransientFailure, latest connection error: connection error: desc = &amp;#34;transport:&#xA;        Error while dialing dial tcp 10.42.4.30:10017: connect: connection refused&amp;#34;&amp;#39;&#xA;      isRestoring: false&#xA;      lastRestored: &amp;#34;&amp;#34;&#xA;      state: &amp;#34;&amp;#34;&#xA;  salvageExecuted: false&#xA;  snapshots:&#xA;    35491870-d26d-4083-abf5-8fe36453eaec:&#xA;      children:&#xA;        volume-head: true&#xA;      created: &amp;#34;2022-07-27T04:50:53Z&amp;#34;&#xA;      labels: {}&#xA;      name: 35491870-d26d-4083-abf5-8fe36453eaec&#xA;      parent: &amp;#34;&amp;#34;&#xA;      removed: false&#xA;      size: &amp;#34;0&amp;#34;&#xA;      usercreated: false&#xA;    volume-head:&#xA;      children: {}&#xA;      created: &amp;#34;2022-07-27T04:50:53Z&amp;#34;&#xA;      labels: {}&#xA;      name: volume-head&#xA;      parent: 35491870-d26d-4083-abf5-8fe36453eaec&#xA;      removed: false&#xA;      size: &amp;#34;0&amp;#34;&#xA;      usercreated: false&#xA;  snapshotsError: &amp;#34;&amp;#34;&#xA;  started: true&#xA;  storageIP: 10.42.4.31&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;&#xA;&lt;p&gt;GitHub Issue: &lt;a href=&#34;https://github.com/longhorn/longhorn/issues/4294&#34;&gt;https://github.com/longhorn/longhorn/issues/4294&lt;/a&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
