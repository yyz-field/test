<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Node on Longhorn Manual Test Cases</title>
    <link>https://longhorn.github.io/longhorn-tests/manual/pre-release/node/</link>
    <description>Recent content in Node on Longhorn Manual Test Cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://longhorn.github.io/longhorn-tests/manual/pre-release/node/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Degraded availability with added nodes</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/pre-release/node/degraded-availability/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/pre-release/node/degraded-availability/</guid>
      <description>&lt;h4 id=&#34;volume-creation-using-ui-with-degraded-availability-and-added-node&#34;&gt;Volume creation using UI with degraded availability and added node&lt;/h4&gt;&#xA;&lt;h5 id=&#34;related-issue&#34;&gt;Related Issue:&lt;/h5&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://github.com/longhorn/longhorn/issues/1701&#34;&gt;https://github.com/longhorn/longhorn/issues/1701&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h5 id=&#34;prerequisites&#34;&gt;Prerequisites:&lt;/h5&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Start with 1 node cluster.&lt;/li&gt;&#xA;&lt;li&gt;Double check if &amp;ldquo;Allow Volume Creation with Degraded Availability&amp;rdquo; is ticked or return &lt;strong&gt;true&lt;/strong&gt; with following command:&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;kubectl get settings.longhorn.io/allow-volume-creation-with-degraded-availability -n longhorn-system&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h5 id=&#34;steps&#34;&gt;Steps:&lt;/h5&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Create a Deployment Pod with a volume and three replicas.&#xA;&lt;ol&gt;&#xA;&lt;li&gt;After the volume is attached, on Volume page it should be displayed as &lt;code&gt;Degraded&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Hover the crusor to the red circle exclamation mark, the tooltip will says, &amp;ldquo;The volume cannot be scheduled&amp;rdquo;.&lt;/li&gt;&#xA;&lt;li&gt;Click into the volume detail page it will display &lt;code&gt;Scheduling Failure&lt;/code&gt; but the volume remain fuctional as expected.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Write data to the Pod.&lt;/li&gt;&#xA;&lt;li&gt;Scale down the deployment to 0 to detach the volume.&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Volume return to &lt;code&gt;Detached&lt;/code&gt; state.&lt;/li&gt;&#xA;&lt;li&gt;Both &lt;code&gt;Degraded&lt;/code&gt; and &lt;code&gt;Scheduling Failure&lt;/code&gt; should be gone.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Scale up the deployment back to 1 verify the data.&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;code&gt;Scheduling Failure&lt;/code&gt; should be seen again from the UI.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Add another node to the cluster.&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Volume should start rebuilding on the second node soon.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Once the rebuild completed, scale down and back up the deployment to verify the data.&lt;/li&gt;&#xA;&lt;li&gt;And the third node to the cluster.&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Volume should start rebuilding on the third node soon.&lt;/li&gt;&#xA;&lt;li&gt;Once the rebuilding starts, the &lt;code&gt;Scheduling Failure&lt;/code&gt; should be gone.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Scale down and back the deployment to verify the data.&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Improve Node Failure Handling By Automatically Force Delete Terminating Pods of StatefulSet/Deployment On Downed Node</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/pre-release/node/improve-node-failure-handling/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/pre-release/node/improve-node-failure-handling/</guid>
      <description>&lt;ol&gt;&#xA;&lt;li&gt;Setup a cluster of 3 worker nodes&lt;/li&gt;&#xA;&lt;li&gt;Install Longhorn and set &lt;code&gt;Default Replica Count = 2&lt;/code&gt; (because we will turn off one node)&lt;/li&gt;&#xA;&lt;li&gt;Create a StatefulSet with 2 pods using the command:&#xA;&#xA;&#xA;&#xA;&lt;div class=&#34;goat svg-container &#34;&gt;&#xA;  &#xA;    &lt;svg&#xA;      xmlns=&#34;http://www.w3.org/2000/svg&#34;&#xA;      font-family=&#34;Menlo,Lucida Console,monospace&#34;&#xA;      &#xA;        viewBox=&#34;0 0 824 25&#34;&#xA;      &gt;&#xA;      &lt;g transform=&#39;translate(8,16)&#39;&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;0&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;k&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;8&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;u&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;16&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;b&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;24&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;32&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;c&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;40&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;48&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;l&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;64&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;c&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;72&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;r&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;80&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;88&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;a&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;96&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;104&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;120&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;-&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;128&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;f&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;144&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;h&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;152&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;160&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;168&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;p&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;176&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;s&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;184&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;:&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;192&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;200&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;208&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;r&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;216&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;a&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;224&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;w&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;232&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;.&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;240&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;g&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;248&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;i&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;256&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;264&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;h&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;272&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;u&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;280&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;b&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;288&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;u&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;296&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;s&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;304&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;312&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;r&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;320&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;c&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;328&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;o&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;336&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;n&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;344&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;352&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;360&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;n&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;368&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;376&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;.&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;384&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;c&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;392&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;o&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;400&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;m&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;408&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;416&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;l&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;424&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;o&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;432&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;n&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;440&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;g&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;448&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;h&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;456&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;o&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;464&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;r&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;472&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;n&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;480&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;488&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;l&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;496&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;o&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;504&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;n&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;512&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;g&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;520&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;h&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;528&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;o&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;536&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;r&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;544&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;n&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;552&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;560&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;m&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;568&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;a&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;576&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;s&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;584&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;592&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;600&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;r&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;608&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;616&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;624&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;x&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;632&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;a&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;640&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;m&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;648&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;p&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;656&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;l&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;664&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;672&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;s&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;680&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;/&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;688&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;s&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;696&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;704&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;a&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;712&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;720&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;728&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;f&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;736&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;u&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;744&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;l&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;752&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;s&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;760&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;e&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;768&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;t&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;776&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;.&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;784&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;y&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;792&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;a&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;800&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;m&lt;/text&gt;&#xA;&lt;text text-anchor=&#39;middle&#39; x=&#39;808&#39; y=&#39;4&#39; fill=&#39;currentColor&#39; style=&#39;font-size:1em&#39;&gt;l&lt;/text&gt;&#xA;&lt;/g&gt;&#xA;&#xA;    &lt;/svg&gt;&#xA;  &#xA;&lt;/div&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;Create a volume + pv + pvc named &lt;code&gt;vol1&lt;/code&gt; and create a deployment(1 pod) of default ubuntu named &lt;code&gt;shell&lt;/code&gt; with the usage of pvc &lt;code&gt;vol1&lt;/code&gt; mounted under &lt;code&gt;/mnt/vol1&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;Find the node which contains one pod of the StatefulSet/Deployment. Power off the node&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h4 id=&#34;statefulset&#34;&gt;StatefulSet&lt;/h4&gt;&#xA;&lt;h5 id=&#34;if-nodedownpoddeletionpolicy--is-set-to-do-nothing---delete-deployment-pod&#34;&gt;if &lt;code&gt;NodeDownPodDeletionPolicy &lt;/code&gt; is set to &lt;code&gt;do-nothing &lt;/code&gt; | &lt;code&gt;delete-deployment-pod&lt;/code&gt;&lt;/h5&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;wait till the &lt;code&gt;pod.deletionTimestamp&lt;/code&gt; has passed&lt;/li&gt;&#xA;&lt;li&gt;verify no replacement pod generated, the pod is stuck at terminating forever.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h5 id=&#34;if-nodedownpoddeletionpolicy--is-set-to-delete-statefulset-pod---delete-both-statefulset-and-deployment-pod&#34;&gt;if &lt;code&gt;NodeDownPodDeletionPolicy &lt;/code&gt; is set to &lt;code&gt;delete-statefulset-pod &lt;/code&gt; | &lt;code&gt;delete-both-statefulset-and-deployment-pod&lt;/code&gt;&lt;/h5&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;wait till pod&amp;rsquo;s status becomes &lt;code&gt;terminating&lt;/code&gt; and the &lt;code&gt;pod.deletionTimestamp&lt;/code&gt; has passed (around 7 minutes)&lt;/li&gt;&#xA;&lt;li&gt;verify that the pod is deleted and there is a new running replacement pod.&lt;/li&gt;&#xA;&lt;li&gt;Verify that you can access/read/write the volume on the new pod&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;deployment&#34;&gt;Deployment&lt;/h4&gt;&#xA;&lt;h5 id=&#34;if-nodedownpoddeletionpolicy--is-set-to-do-nothing---delete-statefulset-pod&#34;&gt;if &lt;code&gt;NodeDownPodDeletionPolicy &lt;/code&gt; is set to &lt;code&gt;do-nothing &lt;/code&gt; | &lt;code&gt;delete-statefulset-pod&lt;/code&gt;&lt;/h5&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;wait till the &lt;code&gt;pod.deletionTimestamp&lt;/code&gt; has passed&lt;/li&gt;&#xA;&lt;li&gt;replacement pod will be stuck in &lt;code&gt;Pending&lt;/code&gt; state forever&lt;/li&gt;&#xA;&lt;li&gt;force delete the terminating pod&lt;/li&gt;&#xA;&lt;li&gt;wait till replacement pod is running&lt;/li&gt;&#xA;&lt;li&gt;verify that you can access &lt;code&gt;vol1&lt;/code&gt; via the &lt;code&gt;shell&lt;/code&gt; replacement pod under &lt;code&gt;/mnt/vol1&lt;/code&gt; once it is in the running state&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h5 id=&#34;if-nodedownpoddeletionpolicy--is-set-to-delete-deployment-pod---delete-both-statefulset-and-deployment-pod&#34;&gt;if &lt;code&gt;NodeDownPodDeletionPolicy &lt;/code&gt; is set to &lt;code&gt;delete-deployment-pod &lt;/code&gt; | &lt;code&gt;delete-both-statefulset-and-deployment-pod&lt;/code&gt;&lt;/h5&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;wait till the &lt;code&gt;pod.deletionTimestamp&lt;/code&gt; has passed&lt;/li&gt;&#xA;&lt;li&gt;verify that the pod is deleted and there is a new running replacement pod.&lt;/li&gt;&#xA;&lt;li&gt;verify that you can access &lt;code&gt;vol1&lt;/code&gt; via the &lt;code&gt;shell&lt;/code&gt; replacement pod under &lt;code&gt;/mnt/vol1&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;other-kinds&#34;&gt;Other kinds&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Verify that Longhorn never deletes any other pod on the downed node.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;test-example&#34;&gt;Test example&lt;/h4&gt;&#xA;&lt;p&gt;One typical scenario when the enhancement has succeeded is as below. When a node (say &lt;code&gt;node-x&lt;/code&gt;) goes down (assume using Kubernetes&amp;rsquo; default settings and user allows Longhorn to force delete pods):&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
