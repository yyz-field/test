<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pre-release tests on Longhorn Manual Test Cases</title>
    <link>https://longhorn.github.io/longhorn-tests/manual/pre-release/</link>
    <description>Recent content in Pre-release tests on Longhorn Manual Test Cases</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="https://longhorn.github.io/longhorn-tests/manual/pre-release/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Test backup listing S3/NFS</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/pre-release/stress/backup-listing/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/pre-release/stress/backup-listing/</guid>
      <description>&lt;h2 id=&#34;1-backup-listing-with-more-than-1000-backups---s3&#34;&gt;1. Backup listing with more than 1000 backups - S3&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Deploy Longhorn on a kubernetes cluster.&lt;/li&gt;&#xA;&lt;li&gt;Set up S3 backupStore.&lt;/li&gt;&#xA;&lt;li&gt;Create a volume of 2Gi and attach it to a pod.&lt;/li&gt;&#xA;&lt;li&gt;Write some data into it and compute md5sum.&lt;/li&gt;&#xA;&lt;li&gt;Open browser developer tool.&lt;/li&gt;&#xA;&lt;li&gt;Create one backup by clicking LH GUI (It&amp;rsquo;ll call &lt;code&gt;snapshotCreate&lt;/code&gt; and &lt;code&gt;snapshotBackup&lt;/code&gt; APIs).&lt;/li&gt;&#xA;&lt;li&gt;Copy the &lt;code&gt;snapshotBackup&lt;/code&gt; API call, right click &lt;code&gt;Copy&lt;/code&gt; -&amp;gt; &lt;code&gt;Copy as cURL&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Run the curl command over 1k times in the Shell.&lt;/li&gt;&#xA;&lt;li&gt;On LH GUI, click the Backup -&amp;gt; Volume Name to display total volume backups, you should see all the backup backups listed on the page.&lt;/li&gt;&#xA;&lt;li&gt;Restore any backup and verify the data.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;2-backup-listing-with-more-than-1000-backups---nfs&#34;&gt;2. Backup listing with more than 1000 backups - NFS&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Repeat the steps from test scenario &lt;code&gt;1. Backup listing with more than 1000 backups - S3&lt;/code&gt; with NFS backupStore.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;3-backup-listing-of-volume-bigger-than-200-gi---s3&#34;&gt;3. Backup listing of volume bigger than 200 Gi - S3&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Deploy Longhorn on a kubernetes cluster.&lt;/li&gt;&#xA;&lt;li&gt;Set up S3 backupStore.&lt;/li&gt;&#xA;&lt;li&gt;Create a volume &lt;code&gt;vol-1&lt;/code&gt; of 250Gi and attach it to a pod.&lt;/li&gt;&#xA;&lt;li&gt;Write data of 240Gi.&lt;/li&gt;&#xA;&lt;li&gt;Take a backup.&lt;/li&gt;&#xA;&lt;li&gt;Go to the backup page and click on the volume &lt;code&gt;vol-1&lt;/code&gt; to list the backups, you should see the backup getting listed.&lt;/li&gt;&#xA;&lt;li&gt;Verify the size of data by restoring it.&lt;/li&gt;&#xA;&lt;li&gt;Create another volume &lt;code&gt;vol-2&lt;/code&gt; of 200Gi and attach it to a pod.&lt;/li&gt;&#xA;&lt;li&gt;Write data of 150Gi.&lt;/li&gt;&#xA;&lt;li&gt;Take a backup.&lt;/li&gt;&#xA;&lt;li&gt;Go to the backup page, you should be able to see both the backups.&lt;/li&gt;&#xA;&lt;li&gt;Click the volume &lt;code&gt;vol-2&lt;/code&gt;, you should be able to see the backup.&lt;/li&gt;&#xA;&lt;li&gt;Write 40Gi in the &lt;code&gt;vol-2&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Take one more backup and verify the listing of the backup in the backup page.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; - Use the same cluster from the test scenario-1 where 1k backups are already there to increase the stress on the system.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Uninstallation Checks</title>
      <link>https://longhorn.github.io/longhorn-tests/manual/pre-release/uninstallation/uninstallation-checks/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://longhorn.github.io/longhorn-tests/manual/pre-release/uninstallation/uninstallation-checks/</guid>
      <description>&lt;h3 id=&#34;prerequisites&#34;&gt;Prerequisites&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Have a setup of Longhorn installed on a kubernetes cluster.&lt;/li&gt;&#xA;&lt;li&gt;Have few volumes backups stored on S3/NFS backup store.&lt;/li&gt;&#xA;&lt;li&gt;Have one DR volume created (not activated) in another cluster with a volume in current cluster.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h3 id=&#34;test-steps&#34;&gt;Test steps&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;Uninstall Longhorn.&lt;/li&gt;&#xA;&lt;li&gt;Check the logs of the job &lt;code&gt;longhorn-uninstall&lt;/code&gt;, make sure there is no error.&lt;/li&gt;&#xA;&lt;li&gt;Check all the components of Longhorn from the namespace longhorn-system are uninstalled. E.g. Longhorn manager, Longhorn driver, Longhorn UI, instance manager, engine image, CSI driver etc.&lt;/li&gt;&#xA;&lt;li&gt;Check all the CRDs are removed &lt;code&gt;kubectl get crds | grep longhorn&lt;/code&gt;.&lt;/li&gt;&#xA;&lt;li&gt;Check the backup stores, the backups taken should NOT be removed.&lt;/li&gt;&#xA;&lt;li&gt;Activate the DR volume in the other cluster and check the data.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; If uninstalling from Rancher cluster using cluster explorer, uninstall Longhorn first then the crds.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
